require=function e(t,o,c){function n(s,a){if(!o[s]){if(!t[s]){var r="function"==typeof require&&require;if(!a&&r)return r(s,!0);if(i)return i(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var u=o[s]={exports:{}};t[s][0].call(u.exports,function(e){var o=t[s][1][e];return n(o||e)},u,u.exports,e,t,o,c)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<c.length;s++)n(c[s]);return n}({audio_playing:[function(e,t,o){"use strict";cc._RF.push(t,"40f3dtW/nVAIrcoTTUu7OGX","audio_playing"),cc.Class({extends:cc.Component,properties:{audioSource:{type:cc.AudioSource,default:null}},play:function(){this.audioSource.play()},pause:function(){this.audioSource.pause()}}),cc._RF.pop()},{}],back:[function(e,t,o){"use strict";cc._RF.push(t,"34493fkkxNOyr+Y17LBIC/9","back");cc.Class({extends:cc.Component,properties:{hero:{type:cc.Node,default:null}},onLoad:function(){var e=this.hero.getComponent("hero");this._hero=e,this.node.on("touchstart",function(e){this._moveFlags|=1,this.hold=!0},e),this.node.on("touchend",function(e){this.hold=!1,this._moveFlags&=-2,this.anim.play("smallRoleLeftStand")},e),this.node.on("touchcancel",function(e){this.hold=!1,this._moveFlags&=-2,this.anim.play("smallRoleLeftStand")},e)},start:function(){},update:function(e){this._hero.heroIsDie&&(this.node.off("touchstart"),this.node.off("touchend"),this.node.off("touchcancel"))}}),cc._RF.pop()},{}],"camera-control":[function(e,t,o){"use strict";cc._RF.push(t,"88b1c0ugnpGf4301Ew/0I+n","camera-control"),cc.Class({extends:cc.Component,properties:{hero:{default:null,type:cc.Node},map:{default:null,type:cc.Node}},onLoad:function(){this.camera=this.getComponent(cc.Camera)},onEnable:function(){cc.director.getPhysicsManager().attachDebugDrawToCamera(this.camera)},onDisable:function(){cc.director.getPhysicsManager().detachDebugDrawFromCamera(this.camera)},lateUpdate:function(e){var t=this.hero.convertToWorldSpaceAR(cc.Vec2.ZERO),o=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),c=t.x;t.x<this.node.width/2/this.camera.zoomRatio?c=this.node.width/2/this.camera.zoomRatio:t.x>this.map.width-this.node.width/2/this.camera.zoomRatio&&(c=this.map.width-this.node.width/2/this.camera.zoomRatio),this.node.position=this.node.parent.convertToNodeSpaceAR(cc.v2(c,o.y))}}),cc._RF.pop()},{}],danger:[function(e,t,o){"use strict";cc._RF.push(t,"ebfa5a3DPRGW4Mrb3dq4naY","danger"),cc.Class({extends:cc.Component,properties:{role:{type:cc.Node,default:null},audioSource_over:{type:cc.AudioSource,default:null},audioSource_play:{type:cc.AudioSource,default:null}},onBeginContact:function(e,t,o){this.audioSource_over.play(),this.audioSource_play.stop(),this.game_over=!0;var c=this.role.getComponent("hero");c.heroIsDie=!0,cc.director.getPhysicsManager().enabled=!1,cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,c.onKeyDown,c),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,c.onKeyUp,c)},onEndContact:function(e,t,o){},onLoad:function(){},start:function(){this.game_over=!1,this.firstLoad=!0},update:function(e){!this.audioSource_over.isPlaying&&this.game_over&&this.firstLoad&&(cc.director.loadScene("over"),this.firstLoad=!1)}}),cc._RF.pop()},{}],end:[function(e,t,o){"use strict";cc._RF.push(t,"cb16eiBC35KXaE9n3yeLCmb","end"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},callback:function(e,t){cc.director.loadScene("gameS")}}),cc._RF.pop()},{}],flag_staff:[function(e,t,o){"use strict";cc._RF.push(t,"232e7bzizhMe6ZQ8jhjKz1P","flag_staff"),cc.Class({extends:cc.Component,properties:{flag:{type:cc.Node,default:null},role:{type:cc.Node,default:null},audioSource_end:{type:cc.AudioSource,default:null},audioSource_play:{type:cc.AudioSource,default:null}},onBeginContact:function(e,t,o){this.audioSource_end.play(),this.audioSource_play.stop(),cc.director.getPhysicsManager().enabled=!1;var c=this.role.getComponent("hero");c.heroIsDie=!0,cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,c.onKeyDown,c),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,c.onKeyUp,c),c._moveFlags=0,c.anim.play("dropFlag");var n=this.role.convertToWorldSpaceAR(cc.Vec2.ZERO),i=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),s=this.role.convertToNodeSpaceAR(cc.v2(i.x-30,i.y-this.node.height/2)),a=cc.moveBy(1,s).easing(cc.easeCubicActionIn());this.role.runAction(cc.sequence(cc.moveTo(0,this.role.parent.convertToNodeSpaceAR(cc.v2(n.x+55,n.y))),a)),this.flag.runAction(cc.moveBy(3,cc.v2(0,-this.node.height/2+50))),this.node.getComponent("flag_staff").scheduleOnce(function(){this.game_end=!0},4)},start:function(){this.game_end=!1,this.firstLoad=!0},update:function(e){!this.audioSource_end.isPlaying&&this.game_end&&this.firstLoad&&(cc.director.loadScene("end"),this.firstLoad=!1)}}),cc._RF.pop()},{}],go:[function(e,t,o){"use strict";cc._RF.push(t,"bcdfbIx7PJMf6YtFEfA/3MR","go");cc.Class({extends:cc.Component,properties:{hero:{type:cc.Node,default:null}},onLoad:function(){var e=this.hero.getComponent("hero");this._hero=e,this.node.on("touchstart",function(e){this._moveFlags|=2,this.hold=!0},e),this.node.on("touchend",function(e){this.hold=!1,this._moveFlags&=-3,this.anim.play("smallRoleRightStand")},e),this.node.on("touchcancel",function(e){this.hold=!1,this._moveFlags&=-3,this.anim.play("smallRoleRightStand")},e)},start:function(){},update:function(e){this._hero.heroIsDie&&(this.node.off("touchstart"),this.node.off("touchend"),this.node.off("touchcancel"))}}),cc._RF.pop()},{}],hero:[function(e,t,o){"use strict";cc._RF.push(t,"2b675wLtbxPmK+GyuxVB4wA","hero");cc.macro.ENABLE_TILEDMAP_CULLING=!1,cc.Class({extends:cc.Component,properties:{maxSpeed:300,acceleration:1500,drag:600,jumps:2,jumpSpeed:1100,audioSource:{type:cc.AudioSource,default:null}},play:function(){this.audioSource.play(),this.audioSource.loop=!0,this.audioSource.volume=.1},start:function(){cc.director.getPhysicsManager().enabled=!0,this.play()},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this._moveFlags=0,this._up=!1,this.heroIsDie=!1,this.body=this.getComponent(cc.RigidBody),this.anim=this.getComponent(cc.Animation),this.holdTimeEclipse=0,this.hold=!1,this.doublehold=0},onKeyDown:function(e){switch(e.keyCode){case cc.KEY.a:case cc.KEY.left:this._moveFlags|=1,this.hold=!0;break;case cc.KEY.d:case cc.KEY.right:this._moveFlags|=2,this.hold=!0;break;case cc.KEY.up:this._upPressed||(this._up=!0),this._upPressed=!0}},onKeyUp:function(e){switch(e.keyCode){case cc.KEY.a:case cc.KEY.left:this.hold=!1,this._moveFlags&=-2,this.anim.play("smallRoleLeftStand");break;case cc.KEY.d:case cc.KEY.right:this.hold=!1,this._moveFlags&=-3,this.anim.play("smallRoleRightStand");break;case cc.KEY.up:this._upPressed=!1}},update:function(e){this.hold?this.holdTimeEclipse++:(this.holdTimeEclipse=0,this.maxSpeed=300),this.holdTimeEclipse>100?this.maxSpeed=800:this.maxSpeed=300;var t=this.body.linearVelocity;if(1===this._moveFlags){var o=this.anim.getAnimationState("smallRoleLeft");o.isPlaying||(o.speed=2.5,this.anim.play("smallRoleLeft")),t.x-=this.acceleration*e,t.x<-this.maxSpeed&&(t.x=-this.maxSpeed)}else if(2===this._moveFlags){var c=this.anim.getAnimationState("smallRoleRight");c.isPlaying||(c.speed=2.5,this.anim.play("smallRoleRight")),t.x+=this.acceleration*e,t.x>this.maxSpeed&&(t.x=this.maxSpeed)}else if(0!=t.x){var n=this.drag*e;Math.abs(t.x)<=n?t.x=0:t.x-=t.x>0?n:-n}Math.abs(t.y)<1?this.jumps=1:this.jumps=0,this.jumps>0&&this._up&&(t.y=this.jumpSpeed,this.jumps--),this._up=!1,this.body.linearVelocity=t},lowerFlag:function(e){}}),cc._RF.pop()},{}],impulse:[function(e,t,o){"use strict";cc._RF.push(t,"54ca0vLQtRFsYnNR2CSyEtd","impulse"),cc.Class({extends:cc.Component,properties:{impulse:cc.v2(0,1e3)},onBeginContact:function(e,t,o){if(!(e.getWorldManifold().normal.y<1)){var c=o.body;c.linearVelocity=cc.v2(),c.applyLinearImpulse(this.impulse,c.getWorldCenter(),!0)}},onLoad:function(){}}),cc._RF.pop()},{}],jump:[function(e,t,o){"use strict";cc._RF.push(t,"80414U3TYlFTYvS8zKkD5bM","jump"),cc.Class({extends:cc.Component,properties:{hero:{type:cc.Node,default:null}},onLoad:function(){var e=this.hero.getComponent("hero");this._hero=e,this.node.on("touchstart",function(e){this._upPressed||(this._up=!0),this._upPressed=!0},e),this.node.on("touchend",function(e){this._upPressed=!1},e),this.node.on("touchcancel",function(e){this._upPressed=!1},e)},start:function(){},update:function(e){this._hero.heroIsDie&&(this.node.off("touchstart"),this.node.off("touchend"),this.node.off("touchcancel"))}}),cc._RF.pop()},{}],"one-side-platform":[function(e,t,o){"use strict";cc._RF.push(t,"832b1hN2q1DK4u3zGiN3Grc","one-side-platform"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.pointVelPlatform=cc.v2(),this.pointVelOther=cc.v2(),this.relativeVel=cc.v2(),this.relativePoint=cc.v2()},onBeginContact:function(e,t,o){this._pointsCache;for(var c=o.body,n=t.body,i=e.getWorldManifold().points,s=this.pointVelPlatform,a=this.pointVelOther,r=this.relativeVel,h=this.relativePoint,u=0;u<i.length;u++){if(n.getLinearVelocityFromWorldPoint(i[u],s),c.getLinearVelocityFromWorldPoint(i[u],a),n.getLocalVector(a.subSelf(s),r),r.y<-32)return;if(r.y<32){n.getLocalPoint(i[u],h);var l=t.getAABB().height/2;if(h.y>l-3.2)return}}e.disabled=!0}}),cc._RF.pop()},{}],over:[function(e,t,o){"use strict";cc._RF.push(t,"d814b10bIVK/6jbtbmAaIJv","over"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},callback:function(e,t){cc.director.loadScene("gameS")}}),cc._RF.pop()},{}],"physics-settings":[function(e,t,o){"use strict";cc._RF.push(t,"9d86a1b/aNL8JDqJ7+E0XIU","physics-settings"),cc.director.getPhysicsManager().enabled=!0,cc._RF.pop()},{}],play:[function(e,t,o){"use strict";cc._RF.push(t,"39ff3qDz7ZFe6+K79N+50zo","play"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Prefab}},onLoad:function(){},start:function(){},callback:function(e,t){var o=cc.find("Canvas/welcome"),c=cc.instantiate(this.target);c.parent=o,c.setPosition(0,0),this.node.destroy(),cc.director.loadScene("gameS")}}),cc._RF.pop()},{}],star_control:[function(e,t,o){"use strict";cc._RF.push(t,"951bdcMgQVEnZU+T6Q6rXm6","star_control"),cc.Class({extends:cc.Component,properties:{hero:{type:cc.Node,default:null},audioSource_star:{type:cc.AudioSource,default:null}},onBeginContact:function(e,t,o){},start:function(){this.pos=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO)},update:function(e){var t=this.hero.convertToWorldSpaceAR(cc.Vec2.ZERO);cc.pDistance(t,this.pos)<50&&(this.audioSource_star.play(),this.node.destroy())}}),cc._RF.pop()},{}]},{},["audio_playing","camera-control","back","go","jump","danger","flag_staff","hero","star_control","end","over","play","impulse","one-side-platform","physics-settings"]);